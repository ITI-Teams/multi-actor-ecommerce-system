<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trendora</title>
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <script src="https://kit.fontawesome.com/4f91921791.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../assets/css/styles.css" />
    <script type="module" src="../assets/js/main.js"></script>
    <script type="module" src="../assets/js/onepage-product.js"></script>
    <script src="../assets/js/include/nav.js" defer></script>
    <script>
        let currentID = localStorage.getItem("customerSession");
        const customers = JSON.parse(localStorage.getItem("customers")) || [];
        const currentCustomer = customers.find(c => String(c.id) === String(currentID));
    </script>

    <!-- link css -->
    <link rel="stylesheet" href="../assets/css/onepage-product.css" />
    <link rel="icon" type="image/x-icon" href="../Trendora.ico">
</head>

<body>
    <div id="loading-screen">
        <div class="loading-container">
            <div class="logo">
                <h1>Trend<span>ora</span></h1>
            </div>
            
            <div class="loading-animation">
                <div class="hanger">
                    <i class="fas fa-tshirt"></i>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
            
            <div class="loading-text">
                Curating your style experience...
            </div>
            
            <div class="fashion-icons">
                <div class="fashion-icon"><i class="fas fa-ring"></i></div>
                <div class="fashion-icon"><i class="fas fa-shoe-prints"></i></div>
                <div class="fashion-icon"><i class="fas fa-hat-cowboy"></i></div>
                <div class="fashion-icon"><i class="fas fa-vest"></i></div>
            </div>
            
            <div class="tagline">
                Style that speaks before you do
            </div>
        </div>
    </div>
    <header id="header-wrapper">
        <nav id="main-header" class="navbar navbar-expand-lg bg-body-tertiary bg-nav-transparent fixed-top"></nav>
    </header>

    <main id="mainWrapper" class="container">
        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
            </symbol>
            <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
            </symbol>
            <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </symbol>
        </svg>
        <div id="formMessage"></div>
        <div id="product-grid" class="product-grid">
            <!-- LEFT: Gallery -->
            <section class="gallery">
                <!-- main img product -->
                <div class="main-image text-center" style="position: relative; display: inline-block;">
                    <img id="main-Img" src="" alt="Product image" style="max-width: 100%; display:block;"/>
                    <div id="lens"></div>
                </div>

                <!-- thumbs imgs -->
                <div id="thumbsWrapper" class="thumbs mt-2"></div>
            </section>

            <!-- RIGHT: Details -->
            <aside>
                <h1 id="product-title" class="product-title"></h1>

                <!-- Interactive Rating -->
                <div class="rating" id="ratingStars">
                    <i class="fa fa-star star" data-value="1"></i>
                    <i class="fa fa-star star" data-value="2"></i>
                    <i class="fa fa-star star" data-value="3"></i>
                    <i class="fa fa-star star" data-value="4"></i>
                    <i class="fa fa-star star" data-value="5"></i>
                    <span id="ratingValue" class="ms-2">0 / 5</span>
                    <span id="product-reviews" class="reviews-link"></span>
                </div>

                <div id="product-price" class="price"></div>
                <!-- Colors -->
                <div class="mt-3">
                    <div class="small muted mb-2">Color</div>
                    <div class="color-swatches" id="color-swatches">
                        <div class="swatch" data-color="white" title="White" style="background: brown"></div>
                        <div class="swatch" data-color="beige" title="Beige" style="background: #fbfbfb"></div>
                        <div class="swatch" data-color="gray" title="Gray" style="background: #bdbdbd"></div>
                        <div class="swatch" data-color="black" title="Black" style="background: #111"></div>
                    </div>
                </div>
                <!-- Sizes -->
                <div class="mt-3">
                    <div class="small muted mb-2">Sizes</div>
                    <div id="product-size" class="sizes">
                        <button class="size-btn">XS</button>
                        <button class="size-btn">S</button>
                        <button class="size-btn">M</button>
                        <button class="size-btn">L</button>
                        <button class="size-btn">XL</button>
                        <button class="size-btn">XXL</button>
                    </div>
                </div>
                <!-- BTN ADD to cart -->
                <div class="add-row">
                    <button id="addtocartBtn" class="btn btn-dark btn-lg btn-add" disabled>
                        Add to cart
                    </button>
                </div>
                <!-- free delivery -->
                <div class="info-line">
                    <i class="bi bi-truck"></i>
                    <div class="small muted">Free delivery on orders over $30.0</div>
                </div>
                <!-- Accordion  -->
                <div class="accordion mt-6" id="productAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne" aria-expanded="true">
                                Description
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show"
                            data-bs-parent="#productAccordion">
                            <div id="product-description" class="accordion-body"></div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo">
                                Fit
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#productAccordion">
                            <div class="accordion-body">
                                Relaxed fit, slightly oversized for comfort.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseThree">
                                Fabric
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#productAccordion">
                            <div class="accordion-body">100% breathable cotton dobby.</div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <div class="pt-5">
            <h4 class="text-uppercase fs-6 fw-semibold pb-3">related products</h4>

            <div id="relatedProductsWrapper" class="justify-content-center align-content-center"></div>
        </div>
    </main>
    <footer id="main-footer" class="footer bg-black text-light mt-5"></footer>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/add.cart.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            updateCartBadge(); 
        });
    </script>
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/scrolling.js"></script>
</body>

</html>